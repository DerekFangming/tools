<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <div class="container shows-up">
    <a class="navbar-brand" href="#">Spending</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item" [ngClass]="{'active': tab == 'reports'}">
          <a class="nav-link pointer" (click)="showTab('reports')">Reports</a>
        </li>
        <li class="nav-item" [ngClass]="{'active': tab == 'manage'}">
          <a class="nav-link pointer" (click)="showTab('manage')">Manage</a>
        </li>
      </ul>
      <form *ngIf="tab == 'manage'" class="form-inline my-2 my-lg-0">
        <button type="button" class="btn btn-outline-success" [disabled]="loading" (click)="addAccount(null)">Add</button>
      </form>
    </div>
  </div>
</nav>

<div *ngIf="tab == 'reports'" class="container">
  <div class="row">
    <!-- <div class="col-3" *ngFor="let image of imageList;">
      <div class="card mt-4" [ngClass]="{'shows-up': !dragOver}">
        <img class="card-img-top img-preview" src="{{image.data}}">
        <div class="card-body">
          <div class="input-group text-center">
            <div *ngIf="image.status == 0" class="alert alert-secondary w-100 py-2 mb-0" role="alert">Waiting to be uploaded.</div>
            <div *ngIf="image.status == 1" class="w-100 my-2"><i class="fa fa-refresh fa-spin mr-2"></i>Uploading ...</div>
            <input *ngIf="image.status == 2" type="text" class="form-control" [disabled]="image.status != 2" [(ngModel)]="image.url">
            <div *ngIf="image.status == 3" class="alert alert-danger w-100 py-2 mb-0" role="alert">Failed to upload.</div>
          </div>
          <button type="button" class="btn btn-primary btn-block mt-2" [disabled]="image.status != 2" (click)="onCopyClicked(image.url)">Copy image url</button>
        </div>
      </div>
    </div> -->11111
  </div>
</div>

<div *ngIf="tab == 'manage'" class="container">

  <div *ngIf="loading" class="row my-5">
    <div class="col text-center my-5">
      <i class="fa fa-refresh fa-spin fa-3x" aria-hidden="true"></i>
    </div>
  </div>

  <div *ngIf="!loading" class="row">
    <div class="col-3" *ngFor="let account of accountList;">
      <div class="card mt-4">
        <img class="card-img-top img-preview" src="{{account.icon}}">
        <div class="card-body">
          <p class="lead" style="font-weight: 500;">{{account.name}}</p>
          <p class="card-text mb-0"><i class="fa fa-credit-card mr-1" aria-hidden="true"></i>**** {{account.identifier}}</p>
          <p class="card-text"><i class="fa fa-user-circle-o mr-2" aria-hidden="true"></i>{{account.owner}}</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-success" [disabled]="loading" (click)="saveAccount()">Add Transactions</button>
          <button type="button" class="btn btn-secondary" [disabled]="loading"(click)="addAccount(account)">Edit</button>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #accountModal let-modal>
  <div class="modal-header">
    <h4 class="modal-title">Account</h4>
    <button type="button" class="close" (click)="modal.dismiss('Cross click')" [disabled]="loading">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="row">
      <div class="col">
        <form>
          <div class="form-group">
            <label>Account name</label>
            <input type="text" class="form-control" [(ngModel)]="selectedAccount.name" name="name" placeholder="Chase Sapphire Preferred">
          </div>
          <div class="form-group">
            <label>Identifier</label>
            <input type="text" class="form-control" [(ngModel)]="selectedAccount.identifier" name="identifier" placeholder="Last 4 digit of the account number">
          </div>
          <div class="form-group">
            <label>Icon</label>
            <input type="text" class="form-control" [(ngModel)]="selectedAccount.icon" name="icon" placeholder="Url of the account">
          </div>
          <div class="form-group">
            <label>Owner</label>
            <input type="text" class="form-control" [(ngModel)]="selectedAccount.owner" name="owner" placeholder="Name of the owner">
          </div>
        </form>
      </div>
    </div>
    
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-success" [disabled]="loading" (click)="saveAccount()">Save</button>
    <button type="button" class="btn btn-secondary" [disabled]="loading" (click)="modal.dismiss('Cross click')">Close</button>
  </div>
</ng-template>
